designing apps around immutable data